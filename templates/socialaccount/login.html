{% extends "account/base_auth.html" %}

{% load i18n %}

{% block head_title %}{% trans "Social Network Login" %}{% endblock %}

{% block page_title %}
    {% if process == "connect" %}
        {% blocktrans with provider.name as provider %}Connect {{ provider }}{% endblocktrans %}
    {% else %}
        {% blocktrans with provider.name as provider %}Sign In Via {{ provider }}{% endblocktrans %}
    {% endif %}
{% endblock %}

{% block page_subtitle %}
    {% if process == "connect" %}
        {% blocktrans with provider.name as provider %}You are about to connect a new third party account from {{ provider }}.{% endblocktrans %}
    {% else %}
        {% blocktrans with provider.name as provider %}You are about to sign in using a third party account from {{ provider }}.{% endblocktrans %}
    {% endif %}
{% endblock %}

{% block content %}
<form method="post" class="space-y-6">
  {% csrf_token %}
  
  <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded-md">
    <div class="flex">
        <div class="flex-shrink-0">
            <i class="fas fa-info-circle text-blue-500"></i>
        </div>
        <div class="ml-3">
            <p class="text-sm text-blue-700 dark:text-blue-300">
                {% if process == "connect" %}
                    {% blocktrans with provider.name as provider %}This will connect your {{ provider }} account to your existing GitHub Manager account.{% endblocktrans %}
                {% else %}
                    {% blocktrans with provider.name as provider %}This will sign you in using your {{ provider }} account.{% endblocktrans %}
                {% endif %}
            </p>
        </div>
    </div>
  </div>
  
  <div class="flex items-center justify-between">
    <a href="{% if process == 'connect' %}{% url 'socialaccount_connections' %}{% else %}{% url 'account_login' %}{% endif %}" 
       class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">
        <i class="fas fa-arrow-left mr-2"></i>
        {% trans 'Go back' %}
    </a>
    
    <button type="submit" 
            class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
        <i class="fab fa-{{ provider.id }} mr-2"></i>
        {% if process == "connect" %}
            {% trans 'Connect' %}
        {% else %}
            {% trans 'Continue' %}
        {% endif %}
    </button>
  </div>
</form>
{% endblock %}

{% block extra_links %}
<p class="mt-4">
    {% if process == "connect" %}
        {% trans 'Not what you wanted?' %}
    {% else %}
        {% trans 'Prefer to sign in with email?' %}
    {% endif %}
    <a href="{% if process == 'connect' %}{% url 'socialaccount_connections' %}{% else %}{% url 'account_login' %}{% endif %}" 
       class="font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300">
        {% if process == "connect" %}
            {% trans 'Go back to connections' %}
        {% else %}
            {% trans 'Sign in with email' %}
        {% endif %}
    </a>
</p>
{% endblock %}
