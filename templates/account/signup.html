{% extends "base.html" %}
{% load i18n %}
{% load account socialaccount %}
{% load google_auth_tags %}

{% block title %}Sign In | GitHub Manager{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
        {% for provider in socialaccount_providers %}
            {% if provider.id == "github" %}
                <a href="{% provider_login_url provider.id process='signup' %}" 
                   class="social-login-btn btn-github">
                    <i class="fab fa-github"></i>
                    {% trans "Sign up with GitHub" %}
                </a>
            {% elif provider.id == "google" %}
                <a href="{% provider_login_url provider.id process='signup' %}" 
                   class="social-login-btn btn-google">
                    <i class="fab fa-google"></i>
                    {% trans "Sign up with Google" %}
                </a>
            {% else %}
                <a href="{% provider_login_url provider.id process='signup' %}" 
                   class="social-login-btn bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white">
                    <i class="fas fa-sign-in-alt"></i>
                    {% blocktrans with provider.name as provider %}
                        Sign up with {{ provider }}
                    {% endblocktrans %}
                </a>
            {% endif %}
        {% endfor %}
    </div>

    <div class="divider">
        {% trans 'or' %}
    </div>
        <div class="text-center text-sm">
            <p class="text-gray-500 dark:text-gray-400">
                Already have an account?
                <a href="{% url 'account_login' %}" class="font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300">
                    Sign in
                </a>
            </p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Auto-focus the username field on page load
    document.addEventListener('DOMContentLoaded', function() {
        const usernameField = document.getElementById('id_username');
        if (usernameField) usernameField.focus();
    });
</script>
{% endblock %}
